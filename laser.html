<!DOCTYPE html>
<html lang="en">


<!--HEADER-->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Required meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <link rel="shortcut icon" type="x-icon" href="../static/iitdelhilogo.ico">
    <script src="https://kit.fontawesome.com/4a3b60632f.js" crossorigin="anonymous"></script>
    
  <title>EQUIP LAB - IIT DELHI</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <style>

  body {
  background-image: url('bgimage.jpg');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
}



 /* Add a black background color to the top navigation */
.topnav {
  background-color: #333;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: #ddd;
  color: black;
}

/* Add an active class to highlight the current page */
.topnav a.active {
  background-color: #04AA6D;
  color: white;
}

/* Hide the link that should open and close the topnav on small screens */
.topnav .icon {
  display: none;
}

.topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }


/* Create a right-aligned (split) link inside the navigation bar */
.topnav a.split {
  float: right;
  background-color: #04AA6D;
  color: white;
}

    /* Rightmost button */
    .topnav button {
      background-color: #ff6600;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 1s;
    }

    .topnav button:hover {
      background-color: #e65c00;
    }


    :root{
      --bg:#e9ecef; --panel:#f7f9fb; --accent:#2b77d9; --muted:#b7bdc6; --glass:#eef3f7;
      --shadow: 0 6px 18px rgba(20,30,40,0.08);
      --rounded:12px;
      font-family: Inter, system-ui, Arial, sans-serif;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#cfd8e3,#eef4f8);}
    .wrap{max-width:1200px;margin:28px auto;padding:18px;background:var(--panel);border-radius:16px;box-shadow:var(--shadow);display:flex;gap:18px}
    .column{background:linear-gradient(180deg,#ffffff,#f3f6fb);padding:16px;border-radius:12px;flex:1;min-width:220px}
    .left{width:260px;flex:0 0 260px}
    .center{flex:1.6}
    .right{width:340px;flex:0 0 340px}
    h1{font-size:16px;margin:0 0 10px;color:#29445a}

    /* Laser On/Off */
    .big-btn{display:flex;align-items:center;justify-content:center;height:86px;border-radius:10px;background:linear-gradient(180deg,#ffffff,#e6f0ff);border:1px solid #d6e4ff;font-weight:700;color:#153a6b;font-size:18px;cursor:pointer}
    .status{margin-top:12px;padding:8px;border-radius:8px;background:var(--glass);border:1px solid #dfe8ef}
    .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:#dbeef2;color:#0b3a3f;font-weight:600}

    /* small controls */
    .controls{display:grid;gap:10px;margin-top:14px}
    .control-row{display:flex;align-items:center;justify-content:space-between}
    .btn{padding:8px 12px;border-radius:8px;border:1px solid #cfd7e227;background:white;cursor:pointer}

    /* HV panel */
    .hv-wrap{display:flex;gap:18px;align-items:center}
    .hv-slider{width:82%;height:260px;background:linear-gradient(180deg,#fff,#eef6ff);border-radius:10px;padding:12px;display:flex;align-items:center;justify-content:center;flex-direction:column;border:1px solid #cddbe9}
    .vertical{writing-mode:vertical-rl;transform:rotate(180deg);font-weight:700;color:#284862}
    input[type=range]{width:100%;}
    .hv-legend{font-size:12px;color:var(--muted);margin-top:8px}

    /* pulse picker box */
    .pulse{background:linear-gradient(180deg,#fbfcff,#ffffff);padding:12px;border-radius:10px;border:1px solid #dfe9f3;margin-top:10px}
    .pulse label{font-size:13px;color:#2b4b5f}
    .pulse input, .pulse select{width:100%;padding:6px;margin-top:6px;border-radius:6px;border:1px solid #d0dbe6}

    /* Current boxes */
    .currents{display:flex;gap:12px}
    .current-box{flex:1;padding:12px;border-radius:10px;background:linear-gradient(180deg,#ffffff,#fbfbff);border:1px solid #d8e3ef}
    .meter{height:220px;background:linear-gradient(180deg,#f2f8ff,#ffffff);border-radius:8px;padding:10px;display:flex;align-items:flex-end}
    .bar{width:46px;border-radius:6px;background:linear-gradient(180deg,#2b77d9,#8fb7ff);margin:auto 6px;height:60%}
    .small{font-size:12px;color:var(--muted)}

    .label{font-weight:700;color:#163b52}
    .field{display:flex;gap:6px;align-items:center}
    input[type=number]{width:80px;padding:6px;border-radius:6px;border:1px solid #d3dce6}
    .foot{margin-top:12px;font-size:12px;color:#3c5562}

    /* responsive */
    @media (max-width:980px){.wrap{flex-direction:column}.left,.right{flex:1;width:auto}}


    footer {
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
            background-color: orange;
            padding: 10px;
        }

        .emergency-contacts {
            background-color: #ddd;
            padding: 10px;
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.0rem;
        }






  </style>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  
<!--BODY Page -->

<body width="100%" height ="100%" style="background-color: whitesmoke;">

<!-- HEADER TABLE LOGO &  PAGE TITLE-->

    <table style="width: 100%; height: 2px; table-layout: fixed;">
        <tr>
            <td style="width: 70px; height: 70px;" ><a href="https://web.iitd.ac.in/~bkanseri/"><img src="../static/equiplogo.png" title="EQUIPLOGO" style="width: auto; height: 70px;"></a></td>
            
            <center><td style="width: auto; height: 70px; text-align: center"><h2 style="font-family: Helvetica; font-size: 1.7em ; color: #0020C2">Experimental Quantum Interferometry and Polarization</h2><em><h3 style="font-family: Helvetica; font-size: 1.2em ; color: #008000" class="double"> Department of Physics - Indian Institute of Technology Delhi</h3></em></td></center>
            <td style="width: 70px; height: 70px;" ><img src="../static/drdologo.png" title="DRDOLOGO" style="width: auto; height: 70px;"></td>
            <td style="width: 70px; height: 70px;" ><a href="https://home.iitd.ac.in/"><img src="../static/iitdelhilogo.png" title="IITLOGO" style="width: auto; height: 70px;"></a></td>
        </tr>
    </table>

    <!--CLOSING HEADER TABLE-->


</head>
<body>


<!-- MENU BAR -->
   <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="topnav" id="myTopnav">
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a> 

  <a href="sample.html"><i class="fa-solid fa-house"></i> Home</a>
  <a href="laser.html" class="active"><i class="fa-solid fa-radiation"></i> LASER CONTROL</a>
  <a href="current.html"><i class="fa-sharp fa-solid fa-bolt"></i> CURRENT CONTROL</a>
  <a href="chiller.html"><i class="fa-solid fa-temperature-low"></i> CHILLER CONTROL</a>
  <a href="oven.html"><i class="fa-sharp fa-solid fa-life-ring"></i> OVEN CONTROL</a>
  <form action="/stop" method="post">
  <button onclick="myFunction()" type="submit" style="background-color: #f44336;"><i class="fa-solid fa-triangle-exclamation"></i>  EMERGENCY SHUTDOWN <i class="fa-solid fa-triangle-exclamation"></i></button>
  </form>
  <p id="demo"></p>
</div>

  <div class="wrap" role="application" aria-label="Laser control mockup">
    <div class="column left">
      <h1>Laser</h1>
      <div id="laserBtn" class="big-btn" role="button" tabindex="0" aria-pressed="false">Laser On/Off</div>
      <div class="status">
        <div class="control-row"><div>Laser Warning</div><div class="badge" id="warning">OK</div></div>
        <div class="control-row" style="margin-top:8px"><div>Laser Error</div><div><input type="text" id="laserError" placeholder="No error" style="padding:6px;border-radius:6px;border:1px solid #d7e0ea"/></div></div>
      </div>
      <div class="controls">
        <div class="control-row"><button class="btn" id="resetBtn">Reset</button><button class="btn" id="saveBtn">Save settings</button></div>
        <div class="foot">Status: <span id="statusText">Standby</span></div>
      </div>
    </div>

    <div class="column center">
      <h1>High voltage setting</h1>
      <div class="hv-wrap">
        <div style="flex:1">
          <div style="display:flex;align-items:center;justify-content:space-between"><div class="label">HV-level</div><div class="small">P<sub>max</sub> @ <span id="pmax">95</span>%</div></div>
          <div class="hv-slider">
            <div class="vertical">0% â€” 100%</div>
            <div style="flex:1;display:flex;align-items:center;justify-content:center;width:100%">
              <input id="hvRange" type="range" min="0" max="100" value="30" style="height:220px;transform:rotate(-90deg);width:70%" />
            </div>
            <div class="hv-legend">HVset: <span id="hvset">30</span>% &nbsp; HVact: <span id="hvact">0</span>%</div>
          </div>
        </div>

        <div style="width:44%">
          <div class="pulse">
            <div style="display:flex;justify-content:space-between;align-items:center"><div style="font-weight:700">Pulse picker setting</div><div class="small">SFD / Burst</div></div>
            <label>PPB (Pulses Per Burst)</label>
            <input id="ppb" type="number" min="1" max="50" value="5" />
            <label style="margin-top:8px">f<sub>feed</sub> (kHz)</label>
            <input id="ffeed" type="number" min="1" value="2500" />
            <div style="display:flex;gap:8px;margin-top:8px">
              <div style="flex:1">
                <label>1/fb</label>
                <input id="invfb" type="number" min="1" value="5" />
              </div>
              <div style="flex:1">
                <label>Result (kHz)</label>
                <input id="fbHz" type="number" readonly />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
        <label class="small">HV-Modulator Mode</label>
        <select id="hvMode"><option>extern (&lt;30kHz)</option><option>internal</option></select>
      </div>
    </div>

    <div class="column right">
      <h1>Current control</h1>
      <div class="currents">
        <div class="current-box">
          <div class="label">Current 1</div>
          <div class="small">I<sub>max</sub>: <input id="imax1" type="number" value="60" style="width:56px"/> A</div>
          <div class="meter" aria-hidden="false">
            <div style="flex:1;display:flex;align-items:flex-end;justify-content:center">
              <div style="width:58px;display:flex;flex-direction:column;align-items:center">
                <div id="bar1" class="bar" style="height:83%"></div>
                <div class="small" style="margin-top:8px">Iset: <input id="iset1" type="number" value="50"/></div>
                <div class="small">Iact: <span id="iact1">50</span> A</div>
              </div>
            </div>
          </div>
        </div>

        <div class="current-box">
          <div class="label">Current 2</div>
          <div class="small">I<sub>max</sub>: <input id="imax2" type="number" value="60" style="width:56px"/> A</div>
          <div class="meter">
            <div style="flex:1;display:flex;align-items:flex-end;justify-content:center">
              <div style="width:58px;display:flex;flex-direction:column;align-items:center">
                <div id="bar2" class="bar" style="height:6%"></div>
                <div class="small" style="margin-top:8px">Iset: <input id="iset2" type="number" value="0"/></div>
                <div class="small">Iact: <span id="iact2">0</span> A</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div style="display:flex;gap:8px;margin-top:12px;align-items:center">
        <button class="btn" id="applyCurr">Apply</button>
        <div class="small">Chiller ctrl: <input type="checkbox" id="chiller"/></div>
      </div>
    </div>
  </div>

  <script>
    // Basic interactive behaviour to mimic the desktop UI
    const laserBtn = document.getElementById('laserBtn');
    const statusText = document.getElementById('statusText');
    const warning = document.getElementById('warning');
    let laserOn = false;

    laserBtn.addEventListener('click', toggleLaser);
    laserBtn.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key===' ') toggleLaser(); });

    function toggleLaser(){
      laserOn = !laserOn;
      laserBtn.style.background = laserOn ? 'linear-gradient(180deg,#ffecec,#ffdede)' : 'linear-gradient(180deg,#ffffff,#e6f0ff)';
      laserBtn.style.color = laserOn ? '#7a1313' : '#153a6b';
      laserBtn.setAttribute('aria-pressed', laserOn.toString());
      statusText.textContent = laserOn ? 'RUNNING' : 'Standby';
      warning.textContent = laserOn ? 'Active' : 'OK';
    }

    document.getElementById('resetBtn').addEventListener('click', ()=>{
      document.getElementById('laserError').value='';
      document.getElementById('hvRange').value=30; document.getElementById('hvset').textContent=30;
      document.getElementById('ppb').value=5; document.getElementById('ffeed').value=2500; document.getElementById('invfb').value=5;
      document.getElementById('iset1').value=50; document.getElementById('iset2').value=0; updateCurrents();
      alert('Controls reset to defaults');
    });

    document.getElementById('saveBtn').addEventListener('click', ()=>{
      // Mock save
      alert('Settings saved (mock)');
    });

    const hvRange = document.getElementById('hvRange');
    hvRange.addEventListener('input', ()=>{
      document.getElementById('hvset').textContent = hvRange.value;
      // simulate actual HV active value slowly following
      document.getElementById('hvact').textContent = Math.max(0, Math.floor(hvRange.value * 0.95));
    });

    function calcFb(){
      const ffeed = Number(document.getElementById('ffeed').value) || 0;
      const invfb = Number(document.getElementById('invfb').value) || 1;
      const res = Math.round(ffeed / invfb);
      document.getElementById('fbHz').value = res;
    }
    document.getElementById('ffeed').addEventListener('input', calcFb);
    document.getElementById('invfb').addEventListener('input', calcFb);
    calcFb();

    function updateCurrents(){
      const iset1 = Number(document.getElementById('iset1').value) || 0;
      const imax1 = Number(document.getElementById('imax1').value) || 60;
      const iact1 = Math.min(imax1, iset1);
      document.getElementById('iact1').textContent = iact1;
      document.getElementById('bar1').style.height = Math.max(6, (iact1/imax1)*100) + '%';

      const iset2 = Number(document.getElementById('iset2').value) || 0;
      const imax2 = Number(document.getElementById('imax2').value) || 60;
      const iact2 = Math.min(imax2, iset2);
      document.getElementById('iact2').textContent = iact2;
      document.getElementById('bar2').style.height = Math.max(6, (iact2/imax2)*100) + '%';
    }

    document.getElementById('applyCurr').addEventListener('click', ()=>{ updateCurrents(); alert('Applied current settings (mock)'); });
    document.getElementById('iset1').addEventListener('input', updateCurrents);
    document.getElementById('iset2').addEventListener('input', updateCurrents);
    document.getElementById('imax1').addEventListener('input', updateCurrents);
    document.getElementById('imax2').addEventListener('input', updateCurrents);

  </script>

  <!-- FOOTER -->
<div class="emergency-contacts">
    <p style="color: blue;"><i class="fa-solid fa-tty"></i> Emergency Contacts: <i class="fa-solid fa-fire"></i>  Fire: 6894 | <i class="fa-solid fa-person-military-pointing"></i>  Security: 1000 | <i class="fa-sharp fa-solid fa-bolt"></i>  Main Sub Station: 1400 | <i class="fa-solid fa-truck-medical"></i> Ambulance: 6666 | <i class="fa-solid fa-hospital"></i> Hospital: 1500</p>
</div>
  <footer>
    <center><p>Copyright &copy; <span id="cyear"></span> EQUIP - IIT DELHI</p></center>
  </footer>

  <script>
    document.getElementById('cyear').textContent = new Date().getFullYear();
  </script>

  <script>
  function myFunction() {
  var txt;
  if (confirm("Do you want to stop the process?  OK - button will shutdown the process, CANCEL - button will nullify --- Press a button!!!")) {
    txt = "You pressed OK!";
  } else {
    txt = "You pressed Cancel!";
  }
  document.getElementById("demo").innerHTML = txt;
}
  </script>
</body>
</html>
