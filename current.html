<!DOCTYPE html>
<html lang="en">


<!--HEADER-->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Required meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <link rel="shortcut icon" type="x-icon" href="../static/iitdelhilogo.ico">
    <script src="https://kit.fontawesome.com/4a3b60632f.js" crossorigin="anonymous"></script>
    
  <title>EQUIP LAB - IIT DELHI</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <style>

  body {
  background-image: url('bgimage.jpg');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
}



 /* Add a black background color to the top navigation */
.topnav {
  background-color: #333;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: #ddd;
  color: black;
}

/* Add an active class to highlight the current page */
.topnav a.active {
  background-color: #04AA6D;
  color: white;
}

/* Hide the link that should open and close the topnav on small screens */
.topnav .icon {
  display: none;
}

.topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }


/* Create a right-aligned (split) link inside the navigation bar */
.topnav a.split {
  float: right;
  background-color: #04AA6D;
  color: white;
}

    /* Rightmost button */
    .topnav button {
      background-color: #ff6600;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 1s;
    }

    .topnav button:hover {
      background-color: #e65c00;
    }


      :root{
      --bg:#e6e6e6;
      --panel:#bfc7cd;
      --panel-inner:#e9ecef;
      --accent:#2b77d9;
      --muted:#6b6f74;
      --glass:#f2f4f6;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
    }
    
    html,body{height:100%;margin:0;background:linear-gradient(#f6f7f8,#e7eaee);color:#14232b}
    .container{max-width:980px;margin:28px auto;padding:12px;background:var(--panel);border-radius:6px;box-shadow:0 6px 20px rgba(10,20,30,0.08);display:flex;gap:12px}
    .col{background:var(--panel-inner);padding:14px;border-radius:6px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6)}
    .left{width:260px;flex:0 0 260px}
    .right{flex:1;display:flex;gap:12px;align-items:flex-start;justify-content:space-between}
    h2{margin:0;font-size:14px;color:#263b48}
    .big-btn{width:100%;height:58px;border-radius:6px;background:linear-gradient(#ffffff,#dfe9f6);display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,0.08);font-weight:700;cursor:pointer}
    .panel-row{margin-top:12px}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input[type=text], input[type=number], select{width:100%;padding:8px;border-radius:6px;border:1px solid #cfd7df;background:white;box-sizing:border-box}
    .small-btn{padding:8px 10px;border-radius:6px;border:1px solid #c7cfd6;background:white;cursor:pointer}
    .controls{display:flex;gap:8px;margin-top:10px}
    .footer-note{margin-top:12px;font-size:12px;color:var(--muted)}

    /* Current boxes */
    .current-box{flex:1;padding:12px;border-radius:6px;background:linear-gradient(#f6f7f9,#ffffff);border:1px solid rgba(0,0,0,0.06)}
    .current-title{font-size:13px;font-weight:700;color:#132d3f;text-align:center;margin-bottom:6px}
    .meter-wrap{display:flex;align-items:center;justify-content:center;padding:8px 0}
    .meter{width:70px;height:260px;border-radius:6px;background:linear-gradient(#f3f7fb,#fff);border:1px solid #d8e2ea;position:relative;display:flex;align-items:flex-end;justify-content:center;padding:8px;box-sizing:border-box}
    .bar{width:44px;border-radius:6px;background:linear-gradient(180deg,var(--accent), #8fb7ff);height:10%;transition:height 300ms ease}
    .ticks{position:absolute;left:8px;top:8px;bottom:8px;width:1px;border-left:1px dashed rgba(0,0,0,0.06);pointer-events:none}
    .meter-labels{display:flex;flex-direction:column;align-items:center;margin-top:8px;gap:6px}
    .meter-labels input{width:64px;padding:6px;font-weight:600;text-align:center}

    .meta-row{display:flex;align-items:center;justify-content:space-between;margin-top:8px;gap:8px}
    .meta-row .small{font-size:12px;color:var(--muted)}

    /* responsive */
    @media (max-width:980px){.wrap{flex-direction:column}.left,.right{flex:1;width:auto}}
  


    footer {
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
            background-color: orange;
            padding: 10px;
        }

        .emergency-contacts {
            background-color: #ddd;
            padding: 10px;
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.0rem;
        }






  </style>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  
<!--BODY Page -->

<body width="100%" height ="100%" style="background-color: whitesmoke;">

<!-- HEADER TABLE LOGO &  PAGE TITLE-->

    <table style="width: 100%; height: 2px; table-layout: fixed;">
        <tr>
            <td style="width: 70px; height: 70px;" ><a href="https://web.iitd.ac.in/~bkanseri/"><img src="../static/equiplogo.png" title="EQUIPLOGO" style="width: auto; height: 70px;"></a></td>
            
            <center><td style="width: auto; height: 70px; text-align: center"><h2 style="font-family: Helvetica; font-size: 1.7em ; color: #0020C2">Experimental Quantum Interferometry and Polarization</h2><em><h3 style="font-family: Helvetica; font-size: 1.2em ; color: #008000" class="double"> Department of Physics - Indian Institute of Technology Delhi</h3></em></td></center>
            <td style="width: 70px; height: 70px;" ><img src="../static/drdologo.png" title="DRDOLOGO" style="width: auto; height: 70px;"></td>
            <td style="width: 70px; height: 70px;" ><a href="https://home.iitd.ac.in/"><img src="../static/iitdelhilogo.png" title="IITLOGO" style="width: auto; height: 70px;"></a></td>
        </tr>
    </table>

    <!--CLOSING HEADER TABLE-->


</head>
<body>


<!-- MENU BAR -->
   <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="topnav" id="myTopnav">
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a> 

  <a href="sample.html" ><i class="fa-solid fa-house"></i> Home</a>
  <a href="laser.html"><i class="fa-solid fa-radiation"></i> LASER CONTROL</a>
  <a href="current.html" class="active"><i class="fa-sharp fa-solid fa-bolt"></i> CURRENT CONTROL</a>
  <a href="chiller.html"><i class="fa-solid fa-temperature-low"></i> CHILLER CONTROL</a>
  <a href="oven.html"><i class="fa-sharp fa-solid fa-life-ring"></i> OVEN CONTROL</a>
  <form action="/stop" method="post">
  <button onclick="myFunction()" type="submit" style="background-color: #f44336;"><i class="fa-solid fa-triangle-exclamation"></i>  EMERGENCY SHUTDOWN <i class="fa-solid fa-triangle-exclamation"></i></button>
  </form>
  <p id="demo"></p>
</div>
   
<div class="container" role="application" aria-label="Laser current control">
    <div class="col left" aria-hidden="false">
      <h2>Laser On/Off</h2>
      <div id="laserBtn" class="big-btn" role="button" aria-pressed="false" tabindex="0">Laser On / Off</div>

      <div class="panel-row">
        <label>Trigger Mode</label>
        <select id="triggerMode">
          <option>External trigger</option>
          <option>Internal trigger</option>
        </select>
      </div>

      <div class="panel-row">
        <label>Internal Frequency (kHz)</label>
        <input id="internalFreq" type="number" min="0" step="1" value="10" />
      </div>

      <div class="panel-row">
        <label>Laser Warning</label>
        <input id="laserWarning" type="text" placeholder="No warnings" />
      </div>

      <div class="panel-row">
        <label>Laser Error</label>
        <div style="display:flex;gap:8px">
          <input id="laserError" type="text" placeholder="No error" />
          <button id="clearErr" class="small-btn" type="button">Clear</button>
        </div>
      </div>

      <div class="controls">
        <button id="resetBtn" class="small-btn" type="button">Reset</button>
        <button id="saveBtn" class="small-btn" type="button">Save settings</button>
      </div>

      <div class="footer-note">Figure: Laser operation panel and current control â€” Nanosecond laser</div>
    </div>

    <div class="col right">
      <!-- Current 1 -->
      <div class="current-box" id="current1">
        <div class="current-title">Current 1</div>
        <div style="display:flex;align-items:center;justify-content:space-between">
          <div style="font-size:12px;color:var(--muted)">I<sub>max</sub></div>
          <input id="imax1" type="number" min="1" value="60" />
          <div style="font-size:12px;color:var(--muted)">A</div>
        </div>

        <div class="meter-wrap" aria-hidden="false">
          <div class="meter" role="img" aria-label="Current meter 1">
            <div class="ticks" aria-hidden="true"></div>
            <div id="bar1" class="bar" style="height:83%"></div>
          </div>
        </div>

        <div class="meter-labels">
          <div class="meta-row">
            <div class="small">I<sub>set</sub></div>
            <input id="iset1" type="number" min="0" value="50" />
            <div class="small">A</div>
          </div>
          <div class="meta-row">
            <div class="small">I<sub>act</sub></div>
            <div id="iact1" style="font-weight:700">50</div>
            <div class="small">A</div>
          </div>
        </div>
      </div>

      <!-- Current 2 -->
      <div class="current-box" id="current2">
        <div class="current-title">Current 2</div>
        <div style="display:flex;align-items:center;justify-content:space-between">
          <div style="font-size:12px;color:var(--muted)">I<sub>max</sub></div>
          <input id="imax2" type="number" min="1" value="60" />
          <div style="font-size:12px;color:var(--muted)">A</div>
        </div>

        <div class="meter-wrap">
          <div class="meter" role="img" aria-label="Current meter 2">
            <div class="ticks" aria-hidden="true"></div>
            <div id="bar2" class="bar" style="height:6%"></div>
          </div>
        </div>

        <div class="meter-labels">
          <div class="meta-row">
            <div class="small">I<sub>set</sub></div>
            <input id="iset2" type="number" min="0" value="0" />
            <div class="small">A</div>
          </div>
          <div class="meta-row">
            <div class="small">I<sub>act</sub></div>
            <div id="iact2" style="font-weight:700">0</div>
            <div class="small">A</div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  // Basic interactive behaviour
  const laserBtn = document.getElementById('laserBtn');
  const statusPressed = () => laserBtn.getAttribute('aria-pressed') === 'true';

  laserBtn.addEventListener('click', () => {
    const now = !statusPressed();
    laserBtn.setAttribute('aria-pressed', now);
    laserBtn.style.background = now ? 'linear-gradient(#fff2f2,#ffdede)' : 'linear-gradient(#fff,#dfe9f6)';
    laserBtn.style.color = now ? '#7b1010' : '#142d44';
  });
  laserBtn.addEventListener('keydown', e => { if(e.key === 'Enter' || e.key === ' ') laserBtn.click(); });

  // Clear error
  document.getElementById('clearErr').addEventListener('click', ()=> { document.getElementById('laserError').value = ''; });

  // Reset / Save
  document.getElementById('resetBtn').addEventListener('click', () => {
    document.getElementById('triggerMode').value = 'External trigger';
    document.getElementById('internalFreq').value = 10;
    document.getElementById('laserWarning').value = '';
    document.getElementById('laserError').value = '';
    document.getElementById('imax1').value = 60; document.getElementById('iset1').value = 50;
    document.getElementById('imax2').value = 60; document.getElementById('iset2').value = 0;
    applyCurrents();
    alert('Controls reset to defaults (mock)');
  });

  document.getElementById('saveBtn').addEventListener('click', () => {
    // this is a mock save; integrate with backend API to persist
    alert('Settings saved (mock)');
  });

  // Current logic: update bars and actuals
  function applyCurrents(){
    const imax1 = Number(document.getElementById('imax1').value) || 1;
    const iset1 = Number(document.getElementById('iset1').value) || 0;
    const iact1 = Math.min(imax1, iset1);
    document.getElementById('iact1').textContent = iact1;
    // bar height percentage mapped 0..imax -> 6%..100%
    const h1 = Math.max(6, Math.min(100, (iact1 / imax1) * 100));
    document.getElementById('bar1').style.height = h1 + '%';

    const imax2 = Number(document.getElementById('imax2').value) || 1;
    const iset2 = Number(document.getElementById('iset2').value) || 0;
    const iact2 = Math.min(imax2, iset2);
    document.getElementById('iact2').textContent = iact2;
    const h2 = Math.max(6, Math.min(100, (iact2 / imax2) * 100));
    document.getElementById('bar2').style.height = h2 + '%';
  }

  ['imax1','iset1','imax2','iset2'].forEach(id => {
    document.getElementById(id).addEventListener('input', applyCurrents);
  });

  // initial render
  applyCurrents();
</script>
   

  <!-- FOOTER -->
<div class="emergency-contacts">
    <p style="color: blue;"><i class="fa-solid fa-tty"></i> Emergency Contacts: <i class="fa-solid fa-fire"></i>  Fire: 6894 | <i class="fa-solid fa-person-military-pointing"></i>  Security: 1000 | <i class="fa-sharp fa-solid fa-bolt"></i>  Main Sub Station: 1400 | <i class="fa-solid fa-truck-medical"></i> Ambulance: 6666 | <i class="fa-solid fa-hospital"></i> Hospital: 1500</p>
</div>
  <footer>
    <center><p>Copyright &copy; <span id="cyear"></span> EQUIP - IIT DELHI</p></center>
  </footer>

  <script>
    document.getElementById('cyear').textContent = new Date().getFullYear();
  </script>

  <script>
  function myFunction() {
  var txt;
  if (confirm("Do you want to stop the process?  OK - button will shutdown the process, CANCEL - button will nullify --- Press a button!!!")) {
    txt = "You pressed OK!";
  } else {
    txt = "You pressed Cancel!";
  }
  document.getElementById("demo").innerHTML = txt;
}
  </script>
</body>
</html>
